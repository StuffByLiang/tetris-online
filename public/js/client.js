!function(e){var a={};function t(o){if(a[o])return a[o].exports;var r=a[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=a,t.d=function(e,a,o){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)t.d(o,r,function(a){return e[a]}.bind(null,r));return o},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=0)}([function(e,a,t){e.exports=t(7)},function(e,a){window.addEventListener("keyup",function(e){key.onKeyUp(e)},!1),window.addEventListener("keydown",function(e){key.onKeyDown(e)},!1),window.key={moveLeft:37,rotateRight:38,moveRight:39,softDrop:40,rotateLeft:17,rotateRightMac:91,hardDrop:32,hold:16,onKeyDown:function(e){window.dokeydown(e.keyCode),this.pressed[e.keyCode]=(new Date).getTime()},onKeyUp:function(e){window.dokeyup(e.keyCode),delete this.pressed[e.keyCode]}},window.dokeydown=function(e){switch(e){case key.rotateLeft:socket.emit("keydown","rotateLeft");break;case key.rotateRightMac:socket.emit("keydown","rotateRight");break;case key.moveLeft:socket.emit("keydown","moveLeft");break;case key.hardDrop:socket.emit("keydown","hardDrop");break;case key.hold:socket.emit("keydown","hold");break;case key.rotateRight:socket.emit("keydown","rotateRight");break;case key.moveRight:socket.emit("keydown","moveRight");break;case key.softDrop:socket.emit("keydown","softDrop")}},window.dokeyup=function(e){switch(e){case key.rotateLeft:socket.emit("keyup","rotateLeft");break;case key.rotateRightMac:socket.emit("keyup","rotateRight");break;case key.moveLeft:socket.emit("keyup","moveLeft");break;case key.hardDrop:socket.emit("keyup","hardDrop");break;case key.hold:socket.emit("keyup","hold");break;case key.rotateRight:socket.emit("keyup","rotateRight");break;case key.moveRight:socket.emit("keyup","moveRight");break;case key.softDrop:socket.emit("keyup","softDrop")}}},function(e,a){window.draw={queueCanvas:document.getElementById("queueCanvas"),holdCanvas:document.getElementById("holdCanvas"),boardCanvas:document.getElementById("boardCanvas"),playerIncomingCanvas:document.getElementById("playerIncomingCanvas"),makeBlock:function(e,a,t,o,r,n){var i=n.getContext("2d");i.fillStyle=r,i.fillRect(e+24*t,a+24*o,24,24),i.beginPath(),i.rect(e+24*t,a+24*o,24,24),i.stroke(),i.globalAlpha=1},drawS:function(e,a,t){this.makeBlock(e,a,2,1,"#69BE28",t),this.makeBlock(e,a,1,1,"#69BE28",t),this.makeBlock(e,a,1,2,"#69BE28",t),this.makeBlock(e,a,0,2,"#69BE28",t)},drawZ:function(e,a,t){this.makeBlock(e,a,0,1,"#ED2939",t),this.makeBlock(e,a,1,1,"#ED2939",t),this.makeBlock(e,a,1,2,"#ED2939",t),this.makeBlock(e,a,2,2,"#ED2939",t)},drawI:function(e,a,t){this.makeBlock(e,a,0,1,"#009FDA",t),this.makeBlock(e,a,1,1,"#009FDA",t),this.makeBlock(e,a,2,1,"#009FDA",t),this.makeBlock(e,a,3,1,"#009FDA",t)},drawT:function(e,a,t){this.makeBlock(e,a,1,1,"#952D98",t),this.makeBlock(e,a,0,2,"#952D98",t),this.makeBlock(e,a,1,2,"#952D98",t),this.makeBlock(e,a,2,2,"#952D98",t)},drawJ:function(e,a,t){this.makeBlock(e,a,0,1,"#0065BD",t),this.makeBlock(e,a,0,2,"#0065BD",t),this.makeBlock(e,a,1,2,"#0065BD",t),this.makeBlock(e,a,2,2,"#0065BD",t)},drawL:function(e,a,t){this.makeBlock(e,a,2,1,"#FF7900",t),this.makeBlock(e,a,0,2,"#FF7900",t),this.makeBlock(e,a,1,2,"#FF7900",t),this.makeBlock(e,a,2,2,"#FF7900",t)},drawO:function(e,a,t){this.makeBlock(e,a,1,1,"#FECB00",t),this.makeBlock(e,a,1,2,"#FECB00",t),this.makeBlock(e,a,2,1,"#FECB00",t),this.makeBlock(e,a,2,2,"#FECB00",t)},clearCanvas:function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)},drawPlayerIncoming:function(){draw.clearCanvas(draw.playerIncomingCanvas);var e=draw.playerIncomingCanvas.getContext("2d");e.fillStyle="red";var a=player.getTotalIncoming();a>22?e.fillRect(0,1,4,draw.playerIncomingCanvas.height):e.fillRect(0,1+draw.playerIncomingCanvas.height-24*a,4,1+draw.playerIncomingCanvas.height-24*a)},drawGrid:function(){this.blockWidth=24,this.boardCanvas.width=10*this.blockWidth+2,this.boardCanvas.height=22*this.blockWidth+2,this.context=this.boardCanvas.getContext("2d");for(var e=1;e<=this.boardCanvas.width;e+=this.blockWidth)this.context.moveTo(e,0),this.context.lineTo(e,this.boardCanvas.height);for(var a=1;a<=this.boardCanvas.height;a+=this.blockWidth)this.context.moveTo(0,a),this.context.lineTo(this.boardCanvas.width,a);this.context.strokeStyle="black",this.context.stroke();var t=this.boardCanvas.toDataURL();this.boardCanvas.style.backgroundImage="url("+t+")"}}},function(e,a){window.draw.getPieceColor=function(e){switch(e){case 1:return"#69BE28";case 2:return"#ED2939";case 3:return"#009FDA";case 4:return"#952D98";case 5:return"#0065BD";case 6:return"#FF7900";case 7:return"#FECB00";case 8:return"#696969"}}},function(e,a){window.draw.drawBoard=function(){for(var e=0;e<=21;e++)for(var a=0;a<=9;a++)if(0!==boardPosition[id][a][e]){var t=draw.getPieceColor(boardPosition[id][a][e]);draw.makeBlock(1+24*a,1+24*e,0,0,t,draw.boardCanvas)}}},function(e,a){window.draw.drawHold=function(e){switch(draw.clearCanvas(draw.holdCanvas),e){case"S":draw.drawS(1,1,draw.holdCanvas);break;case"Z":draw.drawZ(1,1,draw.holdCanvas);break;case"I":draw.drawI(1,1,draw.holdCanvas);break;case"T":draw.drawT(1,1,draw.holdCanvas);break;case"J":draw.drawJ(1,1,draw.holdCanvas);break;case"L":draw.drawL(1,1,draw.holdCanvas);break;case"O":draw.drawO(1,1,draw.holdCanvas);break;default:console.log("no such piece available")}}},function(e,a){window.draw.drawQueue=function(){draw.clearCanvas(draw.queueCanvas);for(var e=player.currentPiece,a=player.currentBag,t=0;t<=3;t++){switch(game.bag.currentBag[a].split(",")[e]){case"S":draw.drawS(1,96*t+1,draw.queueCanvas);break;case"Z":draw.drawZ(1,96*t+1,draw.queueCanvas);break;case"I":draw.drawI(1,96*t+1,draw.queueCanvas);break;case"T":draw.drawT(1,96*t+1,draw.queueCanvas);break;case"J":draw.drawJ(1,96*t+1,draw.queueCanvas);break;case"L":draw.drawL(1,96*t+1,draw.queueCanvas);break;case"O":draw.drawO(1,96*t+1,draw.queueCanvas);break;default:console.log("no such piece available")}++e>=7&&(e=0,a++,null==game.bag.currentBag[player.currentBag+1]&&game.bag.new())}}},function(e,a,t){"use strict";t.r(a);t(1),t(2),t(3),t(4),t(5),t(6);window.secret="hifrank"}]);